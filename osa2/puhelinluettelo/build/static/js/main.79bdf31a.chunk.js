(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{15:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(14),u=n.n(l),o=(n(5),n(2)),c=function(e){return r.a.createElement("li",{key:e.name},e.person.name," ",e.person.number,r.a.createElement("button",{onClick:function(t){return e.deleteNumber(e.person.id)}},"delete"))},s=function(e){var t=e.persons.filter((function(t){return t.name.toLowerCase().includes(e.newFilter.toLowerCase())}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Numbers"),r.a.createElement("ul",null,t.map((function(t){return r.a.createElement(c,{key:t.id,person:t,deleteNumber:e.deleteNumber})}))))},i=n(3),m=n.n(i),d="api/persons",f=function(){return m.a.get(d).then((function(e){return e.data}))},b=function(e){return m.a.post(d,e).then((function(e){return e.data}))},h=function(e){return m.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))},g=function(e){var t=e.persons,n=e.setPersons,a=e.newName,l=e.setNewName,u=e.newNumber,o=e.setNewNumber,c=e.handleNameChange,s=e.handleNumberChange,i=e.setMessage,m=e.setError;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var r={name:a,number:u};-1!==t.map((function(e){return e.name.toLowerCase()})).indexOf(a.toLowerCase())?window.alert("".concat(r.name," is already added to phonebook")):b(r).then((function(e){n(t.concat(e)),l(""),o(""),i("Number was succesfully added!")})).catch((function(e){console.log(e.response.data),console.log("toimiiko?"),m("".concat(e.response.data.error)),setTimeout((function(){m(null)}),5e3)})),setTimeout((function(){i(null)}),5e3)}},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:a,onChange:c})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:u,onChange:s})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},p=function(e){return r.a.createElement("div",null,"filter: ",r.a.createElement("input",{value:e.newFilter,onChange:e.handleFilterChange}))},E=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"success"},t)},v=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"fail"},t)},N=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],l=t[1],u=Object(a.useState)(""),c=Object(o.a)(u,2),i=c[0],m=c[1],d=Object(a.useState)(""),b=Object(o.a)(d,2),N=b[0],w=b[1],C=Object(a.useState)(""),O=Object(o.a)(C,2),j=O[0],k=O[1],y=Object(a.useState)(null),S=Object(o.a)(y,2),F=S[0],L=S[1],P=Object(a.useState)(null),T=Object(o.a)(P,2),x=T[0],D=T[1];Object(a.useEffect)((function(){console.log("effect"),f().then((function(e){l(e)}))}),[]),console.log("render",n.length,"persons");return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(E,{message:F}),r.a.createElement(v,{message:x}),r.a.createElement(p,{handleFilterChange:function(e){console.log(e.target.value),k(e.target.value)}}),r.a.createElement("h2",null,"add new number"),r.a.createElement(g,{persons:n,setPersons:l,newName:i,setNewName:m,newNumber:N,setNewNumber:w,handleNameChange:function(e){console.log(e.target.value),m(e.target.value)},handleNumberChange:function(e){console.log(e.target.value),w(e.target.value)},setMessage:L,setError:D}),r.a.createElement(s,{persons:n,newFilter:j,deleteNumber:function(e){window.confirm("Do you want to delete this number?")&&(h(e).then(l(n.filter((function(t){return t.id!==e})))).then(L("Number deleted succesfully")),setTimeout((function(){L(null)}),5e3))}}))};u.a.render(r.a.createElement(N,null),document.getElementById("root"))},5:function(e,t,n){}},[[15,1,2]]]);
//# sourceMappingURL=main.79bdf31a.chunk.js.map