(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),u=t(14),l=t.n(u),o=(t(5),t(2)),c=function(e){return r.a.createElement("li",{key:e.name},e.person.name," ",e.person.number,r.a.createElement("button",{onClick:function(n){return e.deleteNumber(e.person.id)}},"delete"))},s=function(e){var n=e.persons.filter((function(n){return n.name.toLowerCase().includes(e.newFilter.toLowerCase())}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Numbers"),r.a.createElement("ul",null,n.map((function(n){return r.a.createElement(c,{key:n.id,person:n,deleteNumber:e.deleteNumber})}))))},i=t(3),m=t.n(i),d="api/persons",f=function(){return m.a.get(d).then((function(e){return e.data}))},b=function(e){return m.a.post(d,e).then((function(e){return e.data}))},h=function(e){return m.a.delete("".concat(d,"/").concat(e)).then((function(e){return e.data}))},p=function(e){var n=e.persons,t=e.setPersons,a=e.newName,u=e.setNewName,l=e.newNumber,o=e.setNewNumber,c=e.handleNameChange,s=e.handleNumberChange,i=e.setMessage;return r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var r={name:a,number:l};-1!==n.map((function(e){return e.name.toLowerCase()})).indexOf(a.toLowerCase())?window.alert("".concat(r.name," is already added to phonebook")):b(r).then((function(e){t(n.concat(e)),u(""),o("")})).then(i("Number was succesfully added!")),setTimeout((function(){i(null)}),5e3)}},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:a,onChange:c})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:l,onChange:s})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},g=function(e){return r.a.createElement("div",null,"filter: ",r.a.createElement("input",{value:e.newFilter,onChange:e.handleFilterChange}))},E=function(e){var n=e.message;return null===n?null:r.a.createElement("div",{className:"success"},n)},w=function(){var e=Object(a.useState)([]),n=Object(o.a)(e,2),t=n[0],u=n[1],l=Object(a.useState)(""),c=Object(o.a)(l,2),i=c[0],m=c[1],d=Object(a.useState)(""),b=Object(o.a)(d,2),w=b[0],N=b[1],v=Object(a.useState)(""),C=Object(o.a)(v,2),O=C[0],j=C[1],y=Object(a.useState)(null),k=Object(o.a)(y,2),S=k[0],F=k[1];Object(a.useEffect)((function(){console.log("effect"),f().then((function(e){u(e)}))}),[]),console.log("render",t.length,"persons");return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(E,{message:S}),r.a.createElement(g,{handleFilterChange:function(e){console.log(e.target.value),j(e.target.value)}}),r.a.createElement("h2",null,"add new number"),r.a.createElement(p,{persons:t,setPersons:u,newName:i,setNewName:m,newNumber:w,setNewNumber:N,handleNameChange:function(e){console.log(e.target.value),m(e.target.value)},handleNumberChange:function(e){console.log(e.target.value),N(e.target.value)},setMessage:F}),r.a.createElement(s,{persons:t,newFilter:O,deleteNumber:function(e){window.confirm("Do you want to delete this number?")&&(h(e).then(u(t.filter((function(n){return n.id!==e})))).then(F("Number deleted succesfully")),setTimeout((function(){F(null)}),5e3))}}))};l.a.render(r.a.createElement(w,null),document.getElementById("root"))},5:function(e,n,t){}},[[15,1,2]]]);
//# sourceMappingURL=main.da70de9f.chunk.js.map